(this["webpackJsonpgoogle-keep"]=this["webpackJsonpgoogle-keep"]||[]).push([[0],{25:function(e,t,n){e.exports=n(42)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(15),o=n.n(c),r=(n(30),n(5)),l=n(6),s=n(9),u=n(7),m=n(10),d=(n(31),n(32),n(8)),f=n(4),v=n(3),h=n.n(v),p=(n(37),{title:"",body:"",image:"",isArchived:!1,isStarred:!1}),E="DARK_THEME",b=i.a.createContext({theme:"LIGHT_THEME",toggleTheme:function(){}}),N=function(e){var t=e.updateFilter,n=e.value,c=Object(a.useRef)(null),o=Object(a.useState)(n),r=Object(f.a)(o,2),l=r[0],s=r[1],u=function(e){s(e.currentTarget.value)};return Object(a.useEffect)((function(){h.a.getItem("filter",l).then((function(e){e&&(s(e),t(e))}))}),[]),Object(a.useEffect)((function(){t(l),h.a.setItem("filter",l)}),[l,t]),i.a.createElement(b.Consumer,null,(function(e){var n=e.theme;return i.a.createElement("div",{className:n===E?"search-component search-component-dark":"search-component search-component-light"},i.a.createElement("i",{className:n===E?"icon material-icons search-icon":"icon icon-light material-icons search-icon",onClick:function(){return c.current.focus()}},"search"),i.a.createElement("input",{ref:c,placeholder:"Search",className:n===E?"search-input":"search-input search-input-light",type:"text",onChange:u,value:l}),i.a.createElement("i",{className:n===E?"icon material-icons search-icon":"icon icon-light material-icons search-icon",onClick:function(){t(""),s("")}},"close"))}))},O=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{width:"80%"}},i.a.createElement(N,this.props))}}]),t}(a.Component),g=Object(d.b)((function(e){var t=e.notes,n=e.filter;return console.log(n.noteTitleFilter),{notes:t.filter((function(e){return e.title.toLowerCase().includes(n.noteTitleFilter)||e.body.toLowerCase().includes(n.noteTitleFilter)})),value:n.noteTitleFilter}}),(function(e){return{updateFilter:function(t){e({type:"UPDATE_NOTE_TITLE_FILTER",text:t})}}}))(O);var y=function(e){var t=e.setNavbarCollapse;return i.a.createElement(b.Consumer,null,(function(e){var n=e.toggleTheme,a=e.theme;return i.a.createElement("header",{className:"header"},i.a.createElement("div",{className:"navbar-icon"},i.a.createElement("div",{className:a===E?"icon":"icon icon-light",onClick:t},i.a.createElement("i",{className:"material-icons hamburger"},"menu")),i.a.createElement("div",{className:"icon-title"},"Google Keep")),i.a.createElement("div",{className:"search-box"},i.a.createElement(g,null)),i.a.createElement("div",{className:"action-area"},i.a.createElement("div",{className:a===E?"icon":"icon icon-light",onClick:n},i.a.createElement("i",{className:"material-icons hamburger"},a===E?"wb_sunny":"brightness_2"))))}))},j=(n(38),[{title:"Notes",icon:"note"},{title:"Archive",icon:"archive"}]),T=function(e){var t=e.isNavbarCollapased,n=e.selctedIndex,a=e.setSelectedIndex,c=e.theme,o=j.map((function(e,t){var c=e.icon,o=e.title;return i.a.createElement("div",{key:o,className:n===t?"list-item list-item-active":"list-item",onClick:function(){return a(t)}},i.a.createElement("i",{className:"material-icons list-icon"},c),i.a.createElement("div",{className:"list-title"},o))})),r="";return r=t?"navbar navbar-hidden":"navbar","LIGHT_THEME"===c&&(r+=" navbar-light"),i.a.createElement("nav",{className:r},o,i.a.createElement("div",{style:{backgroundColor:"#BBB",height:"1px"}}))},C=n(11),S=(n(39),n(14)),A=n(1),_=n(16),w=n.n(_),x=(n(40),function(e){var t=e.note,n=e.onRemove,c=e.onArchive,o=e.onStar,r=e.setModalVisibility,l=e.setSelectedNote,s=Object(a.useState)(!1),u=Object(f.a)(s,2),m=u[0],d=u[1],v=function(e){e.stopPropagation(),r(!0),l(t)},h=function(e){e.stopPropagation(),c(t)},p=function(e){e.stopPropagation(),n(t)},N=function(e){e.stopPropagation(),o(t)};return i.a.createElement(b.Consumer,null,(function(e){var n=e.theme;return i.a.createElement("div",{className:"note"},i.a.createElement("div",{className:"note-inner",onMouseOver:function(){return d(!0)},onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onClick:v},m&&i.a.createElement("div",{className:n===E?"star-icon-action icon":"star-icon-action icon icon-light",onClick:N},i.a.createElement("i",{className:"material-icons md-18"},t.isStarred?"star":"star_border")),i.a.createElement("div",{className:"note-title"},t.title),i.a.createElement("div",{className:"note-content"},t.body),i.a.createElement("div",{className:"note-actions"},m&&i.a.createElement("div",{className:n===E?"note-action icon":"note-action icon icon-light",onClick:h},i.a.createElement("i",{className:t.isArchived?"material-icons md-18":"material-icons-outlined  md-18"},"archive")),m&&i.a.createElement("div",{className:n===E?"note-action icon":"note-action icon icon-light"},i.a.createElement("i",{className:"material-icons md-18"},"add_photo_alternate")),m&&i.a.createElement("div",{className:n===E?"note-action icon":"note-action icon icon-light"},i.a.createElement("i",{className:"material-icons md-18"},"color_lens")),m&&i.a.createElement("div",{className:n===E?"note-action icon":"note-action icon icon-light",onClick:p},i.a.createElement("i",{className:"material-icons md-18"},"delete")))))}))}),k=function(e){var t=e.notes,n=e.onRemove,c=e.onArchive,o=e.onUpdate,r=e.onStar,l=Object(a.useState)(p),s=Object(f.a)(l,2),u=s[0],m=s[1],d=Object(a.useState)(!1),v=Object(f.a)(d,2),N=v[0],O=v[1],g=Object(a.useState)(!1),y=Object(f.a)(g,2),j=y[0],T=y[1],C=Object(a.useRef)(null);Object(a.useEffect)((function(){C.current.focus(),w()(C.current),h.a.getItem("selectionInfo").then((function(e){e&&e.modalVisibility&&e.selectedNote&&(O(!0),m(e.selectedNote))}))}),[]),Object(a.useEffect)((function(){h.a.setItem("selectionInfo",{modalVisibility:N,selectedNote:u})}),[N,u]),Object(a.useEffect)((function(){t.filter((function(e){return e.isStarred})).length>0&&t.filter((function(e){return!e.isStarred})).length>0?T(!0):T(!1)}),[t]);var _=function(e){var t=Object(A.a)({},u,Object(S.a)({},e.currentTarget.name,e.currentTarget.value));m(t),o(t)};return i.a.createElement(b.Consumer,null,(function(e){var a=e.theme;return i.a.createElement("div",null,j&&i.a.createElement("div",{className:"note-tag"},"STARRED"),i.a.createElement("div",{className:"notes"},t.filter((function(e){return e.isStarred})).map((function(e){return i.a.createElement(x,{key:e.id,className:"note",note:e,onRemove:n,onArchive:c,onStar:r,setModalVisibility:O,setSelectedNote:m})})),N),j&&i.a.createElement("div",{style:{marginTop:"8px"},className:"note-tag"},"OTHERS"),i.a.createElement("div",{className:"notes"},t.filter((function(e){return!e.isStarred})).map((function(e){return i.a.createElement(x,{key:e.id,className:"note",note:e,onRemove:n,onArchive:c,onStar:r,setModalVisibility:O,setSelectedNote:m})})),N),i.a.createElement("div",{className:N?"modale opened":"modale"},i.a.createElement("div",{className:a===E?"modal-dialog":"modal-dialog modal-dialog-light"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("input",{onChange:_,value:u.title,className:a===E?"note-title-input":"note-title-input note-title-input-light",type:"text",name:"title",placeholder:"Title"}),i.a.createElement("textarea",{onChange:_,value:u.body,name:"body",ref:C,rows:1,className:a===E?"note-content-input":"note-content-input note-content-input-light",type:"text",placeholder:"Take a note..."}),i.a.createElement("button",{className:a===E?"modal-btn note-btn":"modal-btn note-btn note-btn-light",onClick:function(){return O(!1)}},"Close")))))}))},I=n(17),L=n(2),R=n.n(L);window.localforage=h.a;var F=function(){var e;return R.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.awrap(h.a.getItem("notes"));case 2:if(e=t.sent){t.next=6;break}return t.next=6,R.a.awrap(h.a.setItem("notes",[]));case 6:return t.abrupt("return",e||[]);case 7:case"end":return t.stop()}}))},D=function(e){var t,n;return R.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.a.awrap(F());case 2:return t=a.sent,n=Object(A.a)({},e,{id:Date.now()}),h.a.setItem("notes",[].concat(Object(I.a)(t),[n])),a.abrupt("return",n);case 6:case"end":return a.stop()}}))},P=function(){return R.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.awrap(F());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},U=function(e){var t,n;return R.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,a.next=3,R.a.awrap(F());case 3:n=a.sent,h.a.setItem("notes",n.filter((function(e){return e.id!==t})));case 5:case"end":return a.stop()}}))},M=function(e){var t;return R.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R.a.awrap(F());case 2:t=n.sent,h.a.setItem("notes",t.map((function(t){return t.id===e.id?Object(A.a)({},t,{},e):t})));case 4:case"end":return n.stop()}}))},G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c={isStarred:a,isArchived:i,title:e,body:t,image:n};return function(e){D(c).then((function(t){e({type:"ADD_NEW_NOTE",note:t})}))}},H=function(e){var t=Object(A.a)({},e,{isArchived:!e.isArchived});return function(e,n){M(t).then((function(){e({type:"TOGGLE_NOTE",note:t})}))}},V=function(e){return function(t){U(e).then((function(){t({type:"REMOVE_NOTE",id:e.id})}))}},B=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.notes,n=e.onRemove,a=e.onArchive,c=e.onUpdate,o=e.onStar;return i.a.createElement(k,{notes:t,onRemove:n,onArchive:a,onUpdate:c,onStar:o})}}]),t}(a.Component),W=Object(d.b)((function(e){var t=e.notes,n=e.filter;return{notes:t.filter((function(e){return!e.isArchived&&(e.title.toLowerCase().includes(n.noteTitleFilter.toLowerCase())||e.body.toLowerCase().includes(n.noteTitleFilter.toLowerCase()))}))}}),(function(e){return{onArchive:function(t){e(H(t))},onRemove:function(t){e(V(t))},onUpdate:function(t){e(function(e){return function(t,n){M(e).then((function(){t({type:"UPDATE_NOTE",note:e})}))}}(t))},onStar:function(t){e(function(e){var t=Object(A.a)({},e,{isStarred:!e.isStarred});return function(e,n){M(t).then((function(){e({type:"TOGGLE_NOTE",note:t})}))}}(t))}}}))(B),J=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.notes,n=e.onRemove,a=e.onArchive;return i.a.createElement(k,{notes:t,onRemove:n,onArchive:a})}}]),t}(a.Component),K=Object(d.b)((function(e){var t=e.notes,n=e.filter;return{notes:t.filter((function(e){return e.isArchived&&(e.title.toLowerCase().includes(n.noteTitleFilter.toLowerCase())||e.body.toLowerCase().includes(n.noteTitleFilter.toLowerCase()))}))}}),(function(e){return{onArchive:function(t){e(H(t))},onRemove:function(t){e(V(t))}}}))(J),X=function(e){var t=e.isFocussed,n=e.setFocus,c=e.noteState,o=e.setNoteState,r=e.onSave,l=Object(a.useRef)(null);Object(a.useEffect)((function(){l&&l.current&&(l.current.focus(),w()(l.current))}),[]);var s=function(e){o(Object(A.a)({},c,Object(S.a)({},e.target.name,e.target.value)))},u=function(){o((function(e){return Object(A.a)({},e,{isStarred:!e.isStarred})}))},m=function(){o((function(e){return Object(A.a)({},e,{isArchived:!e.isArchived})}))};return t?i.a.createElement(b.Consumer,null,(function(e){var t=e.theme;return i.a.createElement("div",{className:"note-add",onClick:function(e){return e.stopPropagation()}},i.a.createElement("div",{className:t===E?"star-icon icon":"star-icon icon icon-light",onClick:u},i.a.createElement("i",{className:"material-icons"},c.isStarred?"star":"star_border")),i.a.createElement("input",{onChange:s,value:c.title,className:t===E?"note-title-input":"note-title-input note-title-input-light",type:"text",name:"title",placeholder:"Title"}),i.a.createElement("textarea",{onChange:s,value:c.body,name:"body",ref:l,rows:1,className:t===E?"note-content-input":"note-content-input note-content-input-light",type:"text",placeholder:"Take a note..."}),i.a.createElement("div",{className:"note-add-actions"},i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",{className:t===E?"icon":"icon icon-light",onClick:m},i.a.createElement("i",{className:c.isArchived?"material-icons":"material-icons-outlined"},"archive")),i.a.createElement("div",{className:t===E?"icon":"icon icon-light"},i.a.createElement("i",{className:"material-icons"},"add_photo_alternate")),i.a.createElement("div",{className:t===E?"icon":"icon icon-light"},i.a.createElement("i",{className:"material-icons"},"color_lens"))),i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("button",{className:t===E?"note-btn":"note-btn note-btn-light",onClick:r},"Close"))))})):i.a.createElement(b.Consumer,null,(function(e){var t=e.theme;return i.a.createElement("div",{style:{display:"flex"},className:"note-add",onClick:function(e){return e.stopPropagation()}},i.a.createElement("div",{className:"note-add-unfocussed",onClick:function(){return n(!0)}},"Take a note"),i.a.createElement("div",{style:{flex:"1",display:"flex"}},i.a.createElement("div",{className:t===E?"icon":"icon icon-light"},i.a.createElement("i",{className:"material-icons"},"add_photo_alternate"))))}))},$=function(e){var t=e.selctedIndex,n=e.addNewNote,c=Object(a.useState)(!1),o=Object(f.a)(c,2),r=o[0],l=o[1],s=Object(a.useState)(p),u=Object(f.a)(s,2),m=u[0],d=u[1],v=function(){var e=m.title,t=m.body,a=m.isStarred,i=m.isArchived;""===e&&""===t||(n(e,t,"",a,i),d(p)),l(!1)};return i.a.createElement("main",{className:"main",onClick:v},i.a.createElement("div",{className:"note-add-container"},i.a.createElement(X,{isFocussed:r,setFocus:l,noteState:m,setNoteState:d,onSave:v})),i.a.createElement("div",{className:"notes-container"},function(){switch(t){case 0:return i.a.createElement(W,null);case 1:return i.a.createElement(K,null);default:return null}}()))},q=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement($,{addNewNote:this.props.addNewNote,selctedIndex:this.props.selctedIndex})}}]),t}(a.Component),z=Object(d.b)(null,(function(e){return Object(C.b)({addNewNote:G},e)}))(q),Q=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).setNavbarCollapse=function(){return n.setState((function(e){return{isNavbarCollapased:!e.isNavbarCollapased}}))},n.setSelectedIndex=function(e){n.setState((function(t){var n=t.isNavbarCollapased;return{isNavbarCollapased:window.innerWidth<775?!n:n,selctedIndex:e}}))},n.toggleTheme=function(){return n.setState((function(e){return{theme:e.theme===E?"LIGHT_THEME":E}}))},n.state={isNavbarCollapased:!1,selctedIndex:0,theme:E,toggleTheme:n.toggleTheme},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.selctedIndex,n=e.isNavbarCollapased,a=e.theme;return i.a.createElement(b.Provider,{value:{theme:this.state.theme,toggleTheme:this.state.toggleTheme}},i.a.createElement("div",{className:a===E?"App App-dark":"App App-light"},i.a.createElement(y,{setNavbarCollapse:this.setNavbarCollapse}),i.a.createElement("div",{style:{backgroundColor:"#BBB",height:"1px"}}),i.a.createElement("div",{className:"container"},i.a.createElement(T,{theme:a,selctedIndex:t,setSelectedIndex:this.setSelectedIndex,isNavbarCollapased:n}),i.a.createElement(z,{selctedIndex:t}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=n(24),Z=Object(C.c)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("UPDATE_ALL_NOTES"===t.type)return t.notes;if("ADD_NEW_NOTE"===t.type){var n=t.note,a=n.id,i=n.isArchived,c=n.title,o=n.body,r=n.image,l=n.isStarred;return[].concat(Object(I.a)(e),[{id:a,isArchived:i,title:c,body:o,image:r,isStarred:l}])}return"REMOVE_NOTE"===t.type?e.filter((function(e){return e.id!==t.id})):"UPDATE_NOTE"===t.type||"TOGGLE_NOTE"===t.type?e.map((function(e){return e.id===t.note.id?Object(A.a)({},t.note):e})):"UPDATE_ALL_AS_ARCHIVE"===t.type?e.map((function(e){return Object(A.a)({},e,{isArchived:!0})})):"UPDATE_ALL_AS_UNARCHIVE"===t.type?e.map((function(e){return Object(A.a)({},e,{isArchived:!1})})):e},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{noteTitleFilter:""},t=arguments.length>1?arguments[1]:void 0;return"UPDATE_NOTE_TITLE_FILTER"===t.type?Object(A.a)({},e,{noteTitleFilter:t.text}):e}}),ee={notes:[],filter:{noteTitleFilter:""}},te=[Y.a],ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d,ae=Object(C.e)(Z,ee,ne.apply(void 0,[C.a.apply(void 0,te)].concat([])));ae.dispatch((function(e){P().then((function(t){e({type:"UPDATE_ALL_NOTES",notes:t})}))}));var ie=ae;o.a.render(i.a.createElement(d.a,{store:ie},i.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.b0052940.chunk.js.map